[{"/Users/haoyuyang/Documents/Khoury/5610/haoyu-yang-zhe-li-a3-frontend/src/App.jsx":"1","/Users/haoyuyang/Documents/Khoury/5610/haoyu-yang-zhe-li-a3-frontend/src/EditPage.js":"2","/Users/haoyuyang/Documents/Khoury/5610/haoyu-yang-zhe-li-a3-frontend/src/MainPage.js":"3","/Users/haoyuyang/Documents/Khoury/5610/haoyu-yang-zhe-li-a3-frontend/src/index.js":"4"},{"size":588,"mtime":1606704882675,"results":"5","hashOfConfig":"6"},{"size":3425,"mtime":1606726485722,"results":"7","hashOfConfig":"6"},{"size":6362,"mtime":1606766288583,"results":"8","hashOfConfig":"6"},{"size":566,"mtime":1606708923128,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"4q1epc",{"filePath":"12","messages":"13","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/haoyuyang/Documents/Khoury/5610/haoyu-yang-zhe-li-a3-frontend/src/App.jsx",[],"/Users/haoyuyang/Documents/Khoury/5610/haoyu-yang-zhe-li-a3-frontend/src/EditPage.js",["19"],"import Axios from 'axios';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default class EditPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      full: '',\n      short: this.props.short,\n      editFull: '',\n      errorMessage: '',\n      valid: false\n    };\n  }\n\n  refreshPage() {\n    // window.location.reload();\n    // eslint-disable-next-line no-self-assign\n    window.location.href = window.location.href;\n  }\n\n  componentDidMount() {\n    Axios.get('http://localhost:5000/url/' + this.state.short).then(\n      response => {\n        this.setState({ full: response.data.full });\n      }\n    );\n  }\n\n  onChange(key, event) {\n    this.setState({ [key]: event.target.value });\n  }\n\n  onSubmit() {\n    Axios.put('http://localhost:5000/url/' + this.state.short + '/edit', {\n      full: this.state.editFull,\n      short: this.state.short\n    })\n      .then(function () {\n        Axios.get('http://localhost:5000/url/' + this.state.short);\n      })\n      // .then(() => {\n      //   this.setState({\n      //     valid: true\n      //   });\n      // });\n      .catch(err => {\n        // console.log(err.response.data);\n        this.setState({\n          errorMessage: err.response ? err.response.data : null\n          // valid: false\n        });\n      });\n    // .finally(() => {\n    //   this.setState({\n    //     valid: true\n    //   });\n    // });\n  }\n\n  ValidURL(str) {\n    var regex = /(http|https):\\/\\/(\\w+:{0,1}\\w*)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%!\\-\\/]))?/;\n    if (!regex.test(str)) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  checkNewFull() {\n    const newUrl = this.state.editFull;\n    if (!this.ValidURL(newUrl)) {\n      this.setState({\n        errorMessage: 'Invalid Full Url'\n      });\n    } else {\n      this.setState({\n        valid: true\n      });\n    }\n  }\n\n  onSubmitDelete() {\n    Axios.delete('http://localhost:5000/url/' + this.state.short + '/edit', {\n      short: this.state.short\n    }).catch(err => {\n      this.setState({ errorMessage: err.response.data });\n    });\n    this.refreshPage();\n  }\n\n  render() {\n    return (\n      <>\n        {this.state.errorMessage && (\n          <h3 class='alert alert-danger' role='alert'>\n            {' '}\n            {this.state.errorMessage}{' '}\n          </h3>\n        )}\n        <h1 class='text-center'>Edit This Url</h1>\n        <div>\n          <div>Full URL: {this.state.full}</div>\n          <div>\n            Shortened URL: {this.state.short}\n            <button\n              style={{ margin: '20px' }}\n              onClick={() => this.onSubmitDelete()}\n            >\n              <Link to={'/'}>Delete This Url</Link>\n            </button>\n          </div>\n          <label for='test'>Edit Original URL:</label>\n          <input\n            style={{ margin: '10px', width: '60%' }}\n            id='test'\n            value={this.state.editFull}\n            onChange={e => this.onChange('editFull', e)}\n            placeholder='Full URL'\n          ></input>\n          <span> </span>\n          <button\n            style={{ margin: '10px', color: '#3498DB' }}\n            onClick={() => {\n              this.onSubmit();\n              this.checkNewFull();\n            }}\n          >\n            {(this.state.valid && <Link to={'/'}>Confirm Update</Link>) ||\n              'Update URL'}\n          </button>\n          <br></br>\n        </div>\n      </>\n    );\n  }\n}\n","/Users/haoyuyang/Documents/Khoury/5610/haoyu-yang-zhe-li-a3-frontend/src/MainPage.js",[],"/Users/haoyuyang/Documents/Khoury/5610/haoyu-yang-zhe-li-a3-frontend/src/index.js",[],{"ruleId":"20","severity":1,"message":"21","line":64,"column":87,"nodeType":"22","messageId":"23","endLine":64,"endColumn":88,"suggestions":"24"},"no-useless-escape","Unnecessary escape character: \\/.","Literal","unnecessaryEscape",["25","26"],{"messageId":"27","fix":"28","desc":"29"},{"messageId":"30","fix":"31","desc":"32"},"removeEscape",{"range":"33","text":"34"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"35","text":"36"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[1525,1526],"",[1525,1525],"\\"]